# batchProcessSprites

## Brief Description

`batchProcessSprites` is an asynchronous function that processes multiple sprite descriptions in parallel, generating sprite sheets for each description provided.

## Usage

To use `batchProcessSprites`, import it from the sprite module and call it with an array of sprite descriptions.

```javascript
import { batchProcessSprites } from './path/to/sprite/module';

const descriptions = [
  "A pixelated robot",
  "A cartoon cat",
  "A space alien"
];

const results = await batchProcessSprites(descriptions);
```

## Parameters

- `descriptions` (array of strings, required): An array containing text descriptions of the characters to generate.

## Return Value

Returns a Promise that resolves to an array of objects, each containing:

- `messages`: JSON object with frameHeight and frameWidth information.
- `image`: Base64-encoded image data URL of the generated sprite sheet.

The array will have the same length as the input `descriptions` array, with each result corresponding to its respective description.

## Examples

1. Generate multiple sprite sheets at once:

```javascript
const descriptions = [
  "A medieval knight in armor",
  "A friendly dragon",
  "An elf archer"
];

const results = await batchProcessSprites(descriptions);

results.forEach((result, index) => {
  console.log(`Sprite ${index + 1}:`);
  console.log(result.messages);
  console.log(result.image);
});
```

2. Process sprites and save them:

```javascript
import fs from 'fs/promises';

const descriptions = [
  "A futuristic robot",
  "A cyberpunk character"
];

const results = await batchProcessSprites(descriptions);

for (let i = 0; i < results.length; i++) {
  const { image } = results[i];
  const base64Data = image.replace(/^data:image\/png;base64,/, "");
  await fs.writeFile(`sprite_${i + 1}.png`, base64Data, 'base64');
}
```

## Notes and Considerations

- This function uses `Promise.all` to process all sprite descriptions concurrently, which can significantly improve performance when generating multiple sprites.
- The function relies on the `generateSprite` function internally, so all considerations for `generateSprite` apply to each sprite generated by `batchProcessSprites`.
- Large numbers of concurrent sprite generations may put significant load on the AI models and image processing functions. Consider implementing rate limiting or batching for very large numbers of sprites.
- As with `generateSprite`, the generated sprites are optimized for walking animations and follow a specific layout (6 frames in a 2x3 grid).
- The function may take some time to complete, especially with a large number of descriptions, due to multiple API calls and image processing operations.